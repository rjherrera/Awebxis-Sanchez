<div class="form-container">
  <form action="<%= submitBookPath %>" method="post" class="form-card">
    <h1 class="form-title"><%= title %></h1>
    <% if (locals.errors) { %>
    <p class="errors">Check the following errors:</p>
    <ul>
      <% Object.keys(errors).forEach(prop => { %>
      <li>
        <%= prop %>:
        <%= errors[prop].message %>
      </li>
      <% }) %>
    </ul>
    <% } %>
    <% if (!book.isNewRecord) { %>
    <input type="hidden" name="_method" value="patch" />
    <% } %>
    <div>
      <label for="title">Title</label>
      <input type="text" name="title" value="<%= book.title %>" required />
    </div>
    <div>
      <label for="author">Author</label>
      <% if (book.isNewRecord) { %>
      <input type="text" name="author" required />
      <% } else { %>
      <input type="text" name="author" value="<%= book.author.name %>" required />
      <% } %>
    </div>
    <div>
      <label for="isbn">ISBN</label>
      <input type="text" name="isbn" value="<%= book.isbn %>" required />
    </div>
    <div>
      <label for="language">Language</label>
      <input type="text" name="language" value="<%= book.language %>" required />
    </div>
    <div>
      <label for="pages">Pages</label>
      <input type="number" name="pages" value="<%= book.pages %>" min="0" />
    </div>
    <div>
      <label for="imageUrl">Image URL</label>
      <input type="text" name="imageUrl" value="<%= book.imageUrl %>" />
    </div>
    <div>
      <label for="publisher">Publisher</label>
      <input type="text" name="publisher" value="<%= book.publisher %>" />
    </div>
    <div>
      <label for="datePublished">Date Published</label>
      <input type="date" name="datePublished" value="<%= formatDate(book.datePublished) %>" />
    </div>
    <div>
      <label for="format">Format</label>
      <input type="text" name="format" value="<%= book.format %>" />
    </div>
    <div>
      <label for="description">Description</label>
      <textarea type="text" name="description"><%= book.description %></textarea>
    </div>
    <div class="button">
      <% if (book.isNewRecord) { %>
      <input type="submit" name="create" value="Create" />
      <% } else { %>
      <input type="submit" name="update" value="Save" />
      <% } %>
    </div>
  </form>
</div>